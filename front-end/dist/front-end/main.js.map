{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.scss","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.config.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/enums/sort-mode.ts","webpack:///./src/app/models/evaluation.ts","webpack:///./src/app/models/metric.ts","webpack:///./src/app/pipes/HighlightSearchPipe.ts","webpack:///./src/app/search-results/search-results.component.html","webpack:///./src/app/search-results/search-results.component.scss","webpack:///./src/app/search-results/search-results.component.ts","webpack:///./src/app/search/search.component.html","webpack:///./src/app/search/search.component.scss","webpack:///./src/app/search/search.component.ts","webpack:///./src/app/search/shared/search.service.ts","webpack:///./src/app/shared/services/evaluation.service.ts","webpack:///./src/app/shared/services/translate.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,4CAA4C,WAAW;AACvD;AACA;AACA,4E;;;;;;;;;;;;;;;;;;;;ACZyC;AACc;AACK;AACuB;AAEnF,IAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,QAAQ,EAAE,SAAS,EAAE,wEAAe,EAAE;IAC9C,EAAE,IAAI,EAAE,mCAAmC,EAAE,SAAS,EAAE,+FAAsB,EAAE;IAChF,EAAE,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,MAAM,EAAE;IACrD,EAAE,IAAI,EAAE,IAAI,EAAE,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE;CAC1D,CAAC;AAMF;IAAA;IAAgC,CAAC;IAApB,gBAAgB;QAJ5B,8DAAQ,CAAC;YACR,OAAO,EAAE,CAAC,4DAAY,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;YACvC,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,gBAAgB,CAAI;IAAD,uBAAC;CAAA;AAAJ;;;;;;;;;;;;AChB7B,yH;;;;;;;;;;;ACAA,+DAA+D,+H;;;;;;;;;;;;;;;;;ACArB;AAO1C;IAAA;IACA,CAAC;IADY,YAAY;QALxB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;YACpB,yFAAmC;;SAEpC,CAAC;OACW,YAAY,CACxB;IAAD,mBAAC;CAAA;AADwB;;;;;;;;;;;;;ACPzB;AAAA;AAAA;AAAA;AAA+C;AAExC,IAAI,UAAU,GAAG,IAAI,4DAAc,CAAC,YAAY,CAAC,CAAC;AAOlD,IAAM,SAAS,GAAe;IACjC,OAAO,EAAE,+BAA+B;IACxC,oBAAoB,EAAE,EAAE;CAC3B,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZ4D;AACC;AACL;AACjB;AAEe;AACT;AAUpB;AACgC;AACoB;AACI;AACvB;AACf;AACQ;AACG;AA4BxD;IAAA;IAAwB,CAAC;IAAZ,SAAS;QA1BrB,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAY;gBACZ,gGAAsB;gBACtB,yEAAe;gBACf,0EAAe;aAChB;YACD,OAAO,EAAE;gBACP,uEAAa;gBACb,4FAAuB;gBACvB,oEAAgB;gBAChB,sEAAgB;gBAChB,iEAAe;gBACf,gEAAc;gBACd,+DAAa;gBACb,+DAAa;gBACb,iEAAe;gBACf,iEAAe;gBACf,sEAAoB;gBACpB,2DAAW;gBACX,oEAAkB;gBAClB,wEAAe;aAChB;YACD,SAAS,EAAE,CAAC,2EAAa,EAAE,EAAE,OAAO,EAAE,uDAAU,EAAE,QAAQ,EAAE,sDAAS,EAAE,CAAC;YACxE,SAAS,EAAE,CAAC,2DAAY,CAAC;SAC1B,CAAC;OACW,SAAS,CAAG;IAAD,gBAAC;CAAA;AAAH;;;;;;;;;;;;;ACnDtB;AAAA;AAAA,IAAY,QAGX;AAHD,WAAY,QAAQ;IAChB,iDAAS;IACT,yCAAK;AACT,CAAC,EAHW,QAAQ,KAAR,QAAQ,QAGnB;;;;;;;;;;;;;ACDD;AAAA;AAAA;IAMI,oBAAY,IAAY,EAAE,QAAiB;QACvC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IACL,iBAAC;AAAD,CAAC;;;;;;;;;;;;;;ACZD;AAAA;AAAA;IAKI,gBAAY,IAAY,EAAE,KAAa;QACnC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACvB,CAAC;IACL,aAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;ACTmD;AAMpD;IAAA;IAOA,CAAC;IALG,mCAAS,GAAT,UAAU,KAAU,EAAE,IAAS;QAC3B,IAAI,CAAC,IAAI,EAAE;YAAC,OAAO,KAAK,CAAC;SAAE;QAC3B,IAAM,EAAE,GAAG,IAAI,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC,yFAAyF;QAC5H,OAAO,KAAK,CAAC,OAAO,CAAC,EAAE,EAAE,KAAK,GAAG,IAAI,GAAG,MAAM,CAAC,CAAC;IACpD,CAAC;IANQ,eAAe;QAJ3B,0DAAI,CAAC;YACF,IAAI,EAAE,WAAW;SACpB,CAAC;OAEW,eAAe,CAO3B;IAAD,sBAAC;CAAA;AAP2B;;;;;;;;;;;;ACN5B,onBAAonB,6DAA6D,cAAc,+CAA+C,gBAAgB,wBAAwB,gBAAgB,k7BAAk7B,4DAA4D,eAAe,iFAAiF,mCAAmC,mBAAmB,cAAc,eAAe,w6BAAw6B,mBAAmB,kgBAAkgB,wBAAwB,o8BAAo8B,4BAA4B,GAAG,8BAA8B,kEAAkE,wBAAwB,+IAA+I,uBAAuB,spBAAspB,qPAAqP,wF;;;;;;;;;;;ACAxiL,+BAA+B,4BAA4B,qCAAqC,kBAAkB,wBAAwB,oBAAoB,gBAAgB,iBAAiB,WAAW,EAAE,YAAY,gBAAgB,eAAe,EAAE,iBAAiB,6BAA6B,EAAE,oBAAoB,eAAe,EAAE,aAAa,uBAAuB,EAAE,WAAW,0BAA0B,oBAAoB,kBAAkB,oBAAoB,EAAE,cAAc,wBAAwB,EAAE,aAAa,qBAAqB,kBAAkB,mCAAmC,EAAE,qBAAqB,qBAAqB,kBAAkB,oBAAoB,EAAE,kCAAkC,kBAAkB,eAAe,EAAE,mCAAmC,iBAAiB,kBAAkB,EAAE,kBAAkB,eAAe,EAAE,mBAAmB,eAAe,EAAE,OAAO,gBAAgB,EAAE,aAAa,+BAA+B,EAAE,oBAAoB,sBAAsB,EAAE,2BAA2B,qBAAqB,qBAAqB,EAAE,sBAAsB,kBAAkB,8BAA8B,EAAE,qCAAqC,kBAAkB,EAAE,gBAAgB,qBAAqB,qBAAqB,EAAE,eAAe,gBAAgB,EAAE,kBAAkB,qBAAqB,mBAAmB,EAAE,eAAe,yBAAyB,EAAE,eAAe,iBAAiB,EAAE,+CAA+C,+hH;;;;;;;;;;;;;;;;;;;;;;;ACAj5C;AACM;AAEP;AACT;AACG;AACuB;AACxB;AAGlD,IAAK,QAGJ;AAHD,WAAK,QAAQ;IACX,6CAAO;IACP,6CAAO;AACT,CAAC,EAHI,QAAQ,KAAR,QAAQ,QAGZ;AAOD;IA8BE,gCACU,cAA6B,EAC7B,YAA+B,EAC/B,MAAsB,EACtB,OAAe,EACK,OAAO;QAJ3B,mBAAc,GAAd,cAAc,CAAe;QAC7B,iBAAY,GAAZ,YAAY,CAAmB;QAC/B,WAAM,GAAN,MAAM,CAAgB;QACtB,YAAO,GAAP,OAAO,CAAQ;QACK,YAAO,GAAP,OAAO;QAjCrC,yBAAoB,GAAG,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC;QAQzD,aAAQ,GAAG,CAAC,CAAC,CAAC,sEAAsE;QACpF,mBAAc,GAAG,EAAE,CAAC;QAIpB,kBAAa,GAAc,EAAE,CAAC;QAG9B,kBAAa,GAAG,CAAC,CAAC;QAGlB,mBAAc,GAAG,CAAC,CAAC;QACnB,mBAAc,GAAG,CAAC,CAAC;QAEnB,cAAS,GAAG,CAAC,CAAC;QACd,cAAS,GAAG,CAAC,CAAC;QAEd,aAAQ,GAAa,gEAAQ,CAAC,SAAS,CAAC;QACxC,aAAQ,GAAa,QAAQ,CAAC,OAAO,CAAC;QASpC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;IAC3B,CAAC;IAED,yCAAQ,GAAR;QAAA,iBAmBC;QAlBC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,CAAC,gBAAM;YACnC,KAAI,CAAC,WAAW,GAAG,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;YAEvC,KAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,MAAM,CAAC;YAC9C,KAAI,CAAC,YAAY,GAAG,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACzC,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACrC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAC/C,IAAK,IAAI,CAAC,cAAc,CAAC,UAAU,EAAE;YACnC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC5B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;SACxD;QAED,YAAY;QACZ,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;SACnE;IACH,CAAC;IAED,8CAAa,GAAb;QACE,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,gBAAgB,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;QAC9F,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACrC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QAE/C,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;YACxB,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAClE,IAAI,CAAC,oBAAoB,EAAE,CAAC;SAC7B;IACH,CAAC;IAED,gDAAe,GAAf;QACE,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACzC,CAAC;IAED,2CAAU,GAAV;QACE,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;IACvC,CAAC;IAED,kDAAiB,GAAjB,UAAkB,WAAmB;QACnC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QAC/B,IAAI,CAAC,aAAa,EAAE,CAAC;IACvB,CAAC;IAED,+CAAc,GAAd,UAAe,GAAG;QAChB,2CAA2C;QAC3C,IAAI,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE;YACzB,IAAM,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;YACxC,GAAG,GAAG,cAAc,GAAG,UAAU,CAAC;SACnC;QAED,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACnB,CAAC;IAED,sDAAqB,GAArB;QACE,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC/B,CAAC;IAED,8CAAa,GAAb,UAAc,KAAa;QAA3B,iBAoBC;QAnBC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC;aACpD,SAAS,CACR,cAAI;YACF,qBAAqB;YACrB,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YACpC,gBAAgB;YAChB,KAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACvC,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC;YACvD,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;YAC7B,IAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC;YAClD,IAAM,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,KAAK,CAAC;YAClD,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;YAChD,KAAI,CAAC,SAAS,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC;YACxD,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,SAAS,CAAC;YACrC,KAAI,CAAC,cAAc,GAAG,KAAI,CAAC,SAAS,CAAC;QACvC,CAAC,EACD,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAApB,CAAoB,CAC9B,CAAC;IACN,CAAC;IAED,mDAAkB,GAAlB;QAAA,iBAWC;QAVC,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,CAAC,iEAAiE;QACpF,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,iBAAO;YAChC,OAAO,CAAC,IAAI,GAAG,EAAE,KAAI,CAAC,QAAQ,CAAC;YAC/B,OAAO,CAAC,cAAc,GAAG,aAAa,GAAG,OAAO,CAAC,OAAO,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;YAE5F,gCAAgC;YAChC,IAAI,OAAO,CAAC,OAAO,CAAC,WAAW,KAAK,OAAO,EAAE;gBAC3C,OAAO,CAAC,OAAO,CAAC,OAAO,GAAG,SAAS,GAAG,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC;aAC/D;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAED,sDAAqB,GAArB;QAAA,iBAWC;QAVC,IAAI,CAAC,cAAc,CAAC,6BAA6B,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC,SAAS,CACrH,cAAI;YACF,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;YACpC,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC;YACvC,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC;YACvD,KAAI,CAAC,WAAW,GAAG,IAAI,CAAC,IAAI,CAAC;YAC7B,KAAI,CAAC,kBAAkB,EAAE,CAAC;QAC5B,CAAC,EACD,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAApB,CAAoB,CAC9B,CAAC;IACJ,CAAC;IAED,wDAAuB,GAAvB,UAAwB,KAAa;QAArC,iBASC;QARC,IAAI,CAAC,cAAc,CAAC,0BAA0B,CAAC,KAAK,CAAC;aAClD,SAAS,CACR,cAAI;YACF,qBAAqB;YACrB,KAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC;QAC/C,CAAC,EACD,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAApB,CAAoB,CAC9B,CAAC;IACN,CAAC;IAED,gDAAe,GAAf,UAAgB,KAAa;QAA7B,iBAYC;QAXC,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,aAAa,CAAC;aACxE,SAAS,CACR,cAAI;YACF,qBAAqB;YACrB,KAAI,CAAC,aAAa,GAAG,KAAI,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YAC/D,KAAI,CAAC,kBAAkB,EAAE,CAAC;YAC1B,KAAI,CAAC,aAAa,IAAI,KAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC;YACxD,mCAAmC;QACrC,CAAC,EACD,eAAK,IAAI,cAAO,CAAC,KAAK,CAAC,KAAK,CAAC,EAApB,CAAoB,CAC9B,CAAC;IACN,CAAC;IAED,sDAAqB,GAArB,UAAsB,OAAgB,EAAE,UAAU;QAEhD,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,IAAI,6DAAU,CAAC,OAAO,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC,CAAC;QAC1E,IAAI,CAAC,oBAAoB,EAAE,CAAC;QAE5B,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,cAAc,EAAE,CAAC;QAEtB,IAAI,IAAI,CAAC,cAAc,KAAK,EAAE,EAAE;YAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,CAAC;SAC5D;IACH,CAAC;IAED,qDAAoB,GAApB;QAAA,iBAKC;QAJC,IAAI,CAAC,cAAc,GAAG,EAAE,CAAC;QACzB,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,gBAAM;YACtC,KAAI,CAAC,cAAc,IAAI,MAAM,CAAC,IAAI,GAAG,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;QAC7E,CAAC,CAAC,CAAC;IACL,CAAC;IAlMU,sBAAsB;QALlC,+DAAS,CAAC;YACT,QAAQ,EAAE,oBAAoB;YAC9B,8HAA8C;;SAE/C,CAAC;QAoCG,6GAAM,CAAC,6DAAU,CAAC;+EAJK,2EAAa;YACf,qFAAiB;YACvB,8DAAc;YACb,sDAAM;OAlCd,sBAAsB,CAoMlC;IAAD,6BAAC;CAAA;AApMkC;;;;;;;;;;;;ACpBnC,6pC;;;;;;;;;;;ACAA,mCAAmC,eAAe,EAAE,aAAa,uBAAuB,EAAE,iBAAiB,eAAe,EAAE,qBAAqB,iBAAiB,kBAAkB,2BAA2B,0BAA0B,4BAA4B,EAAE,6BAA6B,sBAAsB,uBAAuB,EAAE,+CAA+C,mlC;;;;;;;;;;;;;;;;;;;;ACA1U;AACN;AACT;AAC0C;AAOnF;IAME,yBACU,cAA6B,EAC7B,iBAAmC,EACnC,OAAe;QAFf,mBAAc,GAAd,cAAc,CAAe;QAC7B,sBAAiB,GAAjB,iBAAiB,CAAkB;QACnC,YAAO,GAAP,OAAO,CAAQ;QAEvB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;QAC9B,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;IACjC,CAAC;IAED,kCAAQ,GAAR;QACE,IAAI,CAAC,cAAc,CAAC,UAAU,GAAG,KAAK,CAAC;QACvC,IAAI,CAAC,YAAY,GAAG,GAAG,CAAC;IAC1B,CAAC;IAED,uCAAa,GAAb;QAAA,iBA0BC;QAzBC,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAM,YAAY,GAAG,IAAI,4EAAS,EAAE,CAAC;YACrC,YAAY,CAAC,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;YAClC,2CAA2C;YAC3C,IAAM,YAAY,GAAG,oIAAoI,CAAC;YAC1J,IAAI,CAAC,iBAAiB;iBACnB,SAAS,CAAC,YAAY,EAAE,YAAY,CAAC;iBACrC,SAAS,CACR,cAAI;gBACF,IAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC;gBAC5B,IAAI,SAAS,CAAC,YAAY,EAAE;oBAC1B,IAAI,SAAS,CAAC,YAAY,CAAC,MAAM,GAAG,CAAC,EAAE;wBACrC,KAAI,CAAC,cAAc,CAAC,aAAa,GAAG,KAAI,CAAC,WAAW,CAAC;wBACrD,KAAI,CAAC,cAAc,CAAC,UAAU,GAAG,IAAI,CAAC;wBAEtC,KAAI,CAAC,WAAW,GAAG,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,cAAc,CAAC;qBAC7D;iBACF;YACH,CAAC,EACD,UAAC,KAAU,IAAK,cAAO,CAAC,GAAG,CAAC,KAAK,CAAC,EAAlB,CAAkB,EAClC,cAAM,YAAI,CAAC,uBAAuB,EAAE,EAA9B,CAA8B,CACrC,CAAC;SACL;aAAM;YACL,IAAI,CAAC,uBAAuB,EAAE,CAAC;SAChC;IACH,CAAC;IAED,iDAAuB,GAAvB;QACE,IAAI,CAAC,cAAc,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;QACrD,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,iBAAiB,EAAE,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;IAC1G,CAAC;IApDU,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,sGAAsC;;SAEvC,CAAC;+EAQ0B,oEAAa;YACV,mFAAgB;YAC1B,sDAAM;OATd,eAAe,CAqD3B;IAAD,sBAAC;CAAA;AArD2B;;;;;;;;;;;;;;;;;;;;;;ACVuB;AAGwB;AAC3B;AACX;AACc;AAKnD;IAME,uBACU,KAAiB,EACG,OAAO;QAD3B,UAAK,GAAL,KAAK,CAAY;QACG,YAAO,GAAP,OAAO;QAPrC,YAAO,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,UAAU,CAAC;QAE5C,eAAU,GAAG,KAAK,CAAC,CAAC,oCAAoC;IAKhB,CAAC;IAEzC,qCAAa,GAAb,UACE,WAAmB,EACnB,QAAkB,EAClB,IAAgB,EAChB,IAAgD;QADhD,+BAAgB;QAChB,8BAAe,IAAI,CAAC,OAAO,CAAC,oBAAoB;QAEhD,IAAM,IAAI,GAAG;YACX,KAAK,EAAE;gBACL,IAAI,EAAE;oBACJ,IAAI,EAAE;wBACJ,WAAW,EAAE;4BACX,KAAK,EAAE,WAAW;4BAClB,MAAM,EAAE,CAAC,iBAAiB,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,CAAC;yBACzE;qBACF;iBACF;aACF;YACD,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,IAAI,EAAE;gBACJ,UAAU,EAAE,EAAE,GAAG,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;gBAC1C,UAAU,EAAE,EAAE,GAAG,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;aAC3C;SACF,CAAC;QAEF,IAAM,aAAa,GAAG;YACpB,KAAK,EAAE;gBACL,IAAI,EAAE;oBACJ,IAAI,EAAE;wBACJ,WAAW,EAAE;4BACX,KAAK,EAAE,WAAW;4BAClB,MAAM,EAAE,CAAC,iBAAiB,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,CAAC;yBACzE;qBACF;iBACF;aACF;YACD,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,IAAI;YACV,IAAI,EAAE,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;YACxB,IAAI,EAAE;gBACJ,UAAU,EAAE,EAAE,GAAG,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;gBAC1C,UAAU,EAAE,EAAE,GAAG,EAAE,EAAE,KAAK,EAAE,UAAU,EAAE,EAAE;aAC3C;SACF,CAAC;QAEF,IAAM,OAAO,GAAG,IAAI,gEAAW,EAAE,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;QAE1E,OAAO,IAAI,CAAC,KAAK;aACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,QAAQ,KAAK,gEAAQ,CAAC,KAAK,CAAC,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,IAAI,EAAE;YACtE,OAAO,EAAE,OAAO;SACjB,CAAC;aACD,IAAI,CAAC,0DAAG,CAAC,UAAC,QAAa,IAAK,eAAQ,EAAR,CAAQ,CAAC,CAAC,CAAC;IAC5C,CAAC;IAED,qDAA6B,GAA7B,UACE,KAAa,EACb,SAAiB,EACjB,SAAiB;QAEjB,IAAM,IAAI,GAAG;YACX,KAAK,EAAE;gBACL,IAAI,EAAE;oBACJ,IAAI,EAAE;wBACJ,WAAW,EAAE;4BACX,KAAK,EAAE,KAAK;4BACZ,MAAM,EAAE,CAAC,iBAAiB,EAAE,YAAY,EAAE,cAAc,EAAE,aAAa,CAAC;yBACzE;qBACF;oBACD,MAAM,EAAE;wBACN,KAAK,EAAE;4BACL,QAAQ,EAAE;gCACR,GAAG,EAAE,SAAS;gCACd,GAAG,EAAE,SAAS;6BACf;yBACF;qBACF;iBACF;aACF;SACF,CAAC;QAEF,OAAO,IAAI,CAAC,KAAK;aACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE;YACxB,OAAO,EAAE,IAAI,gEAAW,EAAE,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC;SACnE,CAAC;aACD,IAAI,CAAC,0DAAG,CAAC,UAAC,QAAa,IAAK,eAAQ,EAAR,CAAQ,CAAC,CAAC,CAAC;IAC5C,CAAC;IAED,kDAA0B,GAA1B,UAA2B,WAAmB;QAC5C,IAAM,IAAI,GAAG;YACX,OAAO,EAAE;gBACP,OAAO,EAAE;oBACP,IAAI,EAAE,WAAW;oBACjB,IAAI,EAAE;wBACJ,KAAK,EAAE,cAAc;qBACtB;iBACF;aACF;SACF,CAAC;QAEF,OAAO,IAAI,CAAC,KAAK;aACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,EAAE;YACxB,OAAO,EAAE,IAAI,gEAAW,EAAE,CAAC,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC;SACnE,CAAC;aACD,IAAI,CAAC,0DAAG,CAAC,UAAC,QAAa,IAAK,eAAQ,EAAR,CAAQ,CAAC,CAAC,CAAC;IAC5C,CAAC;IAEM,sCAAc,GAArB,UAAsB,WAAmB;QACvC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;IACjC,CAAC;IAEM,sCAAc,GAArB;QACE,OAAO,IAAI,CAAC,WAAW,CAAC;IAC1B,CAAC;IA1HU,aAAa;QAHzB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;QASG,6GAAM,CAAC,6DAAU,CAAC;+EADJ,+DAAU;OAPhB,aAAa,CA2HzB;IAAD,oBAAC;CAAA;AA3HyB;;;;;;;;;;;;;;;;;;;;ACViB;AACuB;AACnB;AAK/C;IAQE,2BAAoB,UAAwB;QAAxB,eAAU,GAAV,UAAU,CAAc;IAAG,CAAC;IAEhD,sCAAU,GAAV,UAAW,QAAgB,EAAE,KAAa;QACxC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;QACzB,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAED,yCAAa,GAAb,UAAc,UAAsB;QAClC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;QAElC,IAAI,CAAC,gBAAgB,EAAE,CAAC;IAC1B,CAAC;IAED,4CAAgB,GAAhB;QACE,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;QAClB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;QAC3C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5C,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5C,IAAM,OAAO,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1C,IAAI,OAAO,EAAE;YACX,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;SAC5B;QAED,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,CAAC,CAAC;IACjD,CAAC;IAED,2CAAe,GAAf,UAAgB,IAAY;QAC1B,IAAI,aAAa,GAAG,CAAC,CAAC;QAEtB,IAAI,CAAC,WAAW;aACb,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,IAAI,IAAI,EAAd,CAAc,CAAC;aAC3B,OAAO,CAAC,YAAE;YACT,IAAI,EAAE,CAAC,QAAQ,EAAE;gBACf,aAAa,EAAG,CAAC;aAClB;QACL,CAAC,CAAC,CAAC;QAEH,IAAM,CAAC,GAAG,aAAa,GAAG,IAAI,CAAC;QAC/B,OAAO,IAAI,4DAAM,CAAC,IAAI,GAAG,IAAI,EAAE,CAAC,CAAC,CAAC;IACpC,CAAC;IAED,8CAAkB,GAAlB;QACE,IAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,YAAE,IAAI,SAAE,CAAC,QAAQ,EAAX,CAAW,CAAC,CAAC,CAAC,CAAC,CAAC;QACpE,IAAI,aAAa,EAAE;YACjB,OAAO,IAAI,4DAAM,CAAC,mBAAmB,EAAE,CAAC,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC;SAChE;aAAM;YACL,OAAO,IAAI,CAAC;SACb;IACH,CAAC;IAED,gDAAoB,GAApB;QAAA,iBAWC;QAVC,IAAI,GAAG,GAAG,CAAC,CAAC;QACZ,IAAM,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,YAAE,IAAI,SAAE,CAAC,QAAQ,EAAX,CAAW,CAAC,CAAC;QAChE,YAAY,CAAC,OAAO,CAAC,aAAG;YACtB,IAAM,CAAC,GAAG,KAAI,CAAC,eAAe,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;YACzC,GAAG,IAAI,CAAC,CAAC,KAAK,CAAC;QACjB,CAAC,CAAC,CAAC;QAEH,IAAM,EAAE,GAAG,GAAG,GAAG,YAAY,CAAC,MAAM,CAAC;QAErC,OAAO,IAAI,4DAAM,CAAC,kBAAkB,EAAE,EAAE,CAAC,CAAC;IAC5C,CAAC;IAED,4CAAgB,GAAhB;QACE,IAAM,WAAW,GAAG;YAClB,QAAQ,EAAE,IAAI,CAAC,QAAQ;YACvB,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,KAAK,EAAE,IAAI,CAAC,KAAK;YACjB,OAAO,EAAE,IAAI,CAAC,OAAO;YACrB,WAAW,EAAE,IAAI,CAAC,WAAW;SAAC,CAAC;QAE/B,IAAM,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC;QAC9C,IAAM,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,+BAA+B,GAAG,kBAAkB,CAAC,SAAS,CAAC,CAAC,CAAC;QAEpH,OAAO,GAAG,CAAC;IACf,CAAC;IAtFU,iBAAiB;QAH7B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;+EASgC,sEAAY;OARjC,iBAAiB,CAuF7B;IAAD,wBAAC;CAAA;AAvF6B;;;;;;;;;;;;;;;;;;;;;ACRa;AACoB;AAC1B;AAKrC;IACE,0BAAoB,KAAiB;QAAjB,UAAK,GAAL,KAAK,CAAY;IAAG,CAAC;IAEzC,oCAAS,GAAT,UAAU,GAAc,EAAE,KAAa;QACrC,IAAM,OAAO,GAAG,IAAI,gEAAW,EAAE,CAAC,GAAG,CAAC,eAAe,EAAE,SAAS,GAAG,KAAK,CAAC,CAAC;QAE1E,IAAM,IAAI,GAAG;YACX,QAAQ,EAAE,GAAG,CAAC,MAAM;YACpB,QAAQ,EAAE,GAAG,CAAC,MAAM;YACpB,QAAQ,EAAE,GAAG,CAAC,MAAM;YACpB,GAAG,EAAE,GAAG,CAAC,CAAC;SACX,CAAC;QAEF,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,EAAE;YAChC,OAAO,EAAE,OAAO;SACjB,CAAC;aACD,IAAI,CAAC,0DAAG,CAAC,UAAC,GAAQ,IAAK,UAAG,EAAH,CAAG,CAAC,CAAC,CAAC;IAChC,CAAC;IAjBU,gBAAgB;QAH5B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;+EAE2B,+DAAU;OAD1B,gBAAgB,CAkB5B;IAAD,uBAAC;CAAA;AAlB4B;AAoB7B,IAAM,GAAG,GAAG,0DAA0D,CAAC;AAEvE;IAME;QAJS,WAAM,GAAW,IAAI,CAAC;QACtB,WAAM,GAAW,IAAI,CAAC;QACtB,WAAM,GAAW,MAAM,CAAC;IAElB,CAAC;IAClB,gBAAC;AAAD,CAAC;;;;;;;;;;;;;;ACpCD;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AAC4B;AACzD;AAE2B;AACY;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,gGAAsB,EAAE,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,KAAK,CAAC,GAAG,CAAC,EAAlB,CAAkB,CAAC,CAAC","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { SearchComponent } from './search/search.component';\r\nimport { SearchResultsComponent } from './search-results/search-results.component';\r\n\r\nconst routes: Routes = [\r\n  { path: 'search', component: SearchComponent },\r\n  { path: 'search-results/:query/:eval/:name', component: SearchResultsComponent },\r\n  { path: '', redirectTo: 'search', pathMatch: 'full' },\r\n  { path: '**', redirectTo: 'search', pathMatch: 'prefix' },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\r\\n<router-outlet></router-outlet>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n}\r\n","import { InjectionToken } from '@angular/core';\r\n\r\nexport let APP_CONFIG = new InjectionToken('app.config');\r\n\r\nexport interface IAppConfig {\r\n    baseUrl: string,\r\n    defaultResultsLoaded: number;\r\n}\r\n\r\nexport const AppConfig: IAppConfig = {\r\n    baseUrl: 'http://localhost:9200/product',\r\n    defaultResultsLoaded: 25\r\n};\r\n","import { HighlightSearch } from './pipes/HighlightSearchPipe';\r\nimport { SearchService } from './search/shared/search.service';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport {\r\n  MatButtonModule,\r\n  MatInputModule,\r\n  MatIconModule,\r\n  MatRippleModule,\r\n  MatCardModule,\r\n  MatSelectModule,\r\n  MatExpansionModule,\r\n  MatSlideToggleModule\r\n} from '@angular/material';\r\nimport { MatSliderModule } from '@angular/material/slider';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { SearchResultsComponent } from './search-results/search-results.component';\r\nimport { SearchComponent } from './search/search.component';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { APP_CONFIG, AppConfig } from './app.config';\r\nimport { HttpClientModule } from '@angular/common/http';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    SearchResultsComponent,\r\n    SearchComponent,\r\n    HighlightSearch\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    AppRoutingModule,\r\n    HttpClientModule,\r\n    MatButtonModule,\r\n    MatInputModule,\r\n    MatIconModule,\r\n    MatCardModule,\r\n    MatRippleModule,\r\n    MatSelectModule,\r\n    MatSlideToggleModule,\r\n    FormsModule,\r\n    MatExpansionModule,\r\n    MatSliderModule\r\n  ],\r\n  providers: [SearchService, { provide: APP_CONFIG, useValue: AppConfig }],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule {}\r\n","export enum SortMode {\r\n    Relevance,\r\n    Price\r\n}\r\n","import { Product } from './product';\r\n\r\nexport class Evaluation {\r\n\r\n    // product: Product;\r\n    rank: number;\r\n    relevant: boolean;\r\n\r\n    constructor(rank: number, relevant: boolean) {\r\n        this.rank = rank;\r\n        this.relevant = relevant;\r\n    }\r\n}\r\n","export class Metric {\r\n\r\n    name: string;\r\n    value: number;\r\n\r\n    constructor(name: string, value: number) {\r\n        this.name = name;\r\n        this.value = value;\r\n    }\r\n}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'highlight'\r\n})\r\n\r\nexport class HighlightSearch implements PipeTransform {\r\n\r\n    transform(value: any, args: any): any {\r\n        if (!args) {return value; }\r\n        const re = new RegExp(args, 'gi'); // 'gi' for case insensitive and can use 'g' if you want the search to be case sensitive.\r\n        return value.replace(re, '<b>' + args + '</b>');\r\n    }\r\n}\r\n","module.exports = \"<div class=\\\"row mat-typography header-bar\\\">\\r\\n    <div style=\\\"text-align:center\\\" class=\\\"mat-typography title\\\">\\r\\n        <a [routerLink]=\\\"['/']\\\"><h1>Home</h1></a>\\r\\n    </div>\\r\\n  <form class=\\\"example-form header-inner\\\">\\r\\n\\r\\n    <mat-form-field class=\\\"search-bar\\\">\\r\\n      <input name=\\\"searchQuery\\\" matInput [(ngModel)]='searchQuery' placeholder=\\\"Enter your search query here\\\">\\r\\n    </mat-form-field>\\r\\n\\r\\n    <button mat-button class=\\\"search-button\\\" (click)=\\\"searchClicked()\\\">Search</button>\\r\\n\\r\\n    <div *ngIf=\\\"evalMode\\\" class=\\\"mat-typography\\\" style=\\\"margin-top: 10px; color: gray\\\">\\r\\n        <p>Evalutation Mode - Assessor: {{assessorName}}</p>\\r\\n        <p>Total Documents Assessed: {{totalEvaluated}}/20</p>\\r\\n        <p>{{metricsDisplay}}</p>\\r\\n        <a *ngIf=\\\"totalEvaluated >= 20\\\" [(href)]=\\\"evaluationFile\\\" download=\\\"evaluation.json\\\">Download Evaluation File</a>\\r\\n    </div>\\r\\n  \\r\\n\\r\\n  </form>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"main-content\\\">\\r\\n\\r\\n  <mat-expansion-panel>\\r\\n    <mat-expansion-panel-header>\\r\\n      <mat-panel-title>\\r\\n        Filter Results\\r\\n      </mat-panel-title>\\r\\n\\r\\n    </mat-expansion-panel-header>\\r\\n\\r\\n    Minimum contents (g/ml) <mat-slider thumbLabel [min]=\\\"sliderMin\\\" [max]=\\\"sliderMax\\\" step=\\\"100\\\" [(ngModel)]=\\\"sliderMinValue\\\"></mat-slider>\\r\\n    Maximum contents (g/ml) <mat-slider thumbLabel [min]=\\\"sliderMin\\\" [max]=\\\"sliderMax\\\" step=\\\"100\\\" [(ngModel)]=\\\"sliderMaxValue\\\"></mat-slider>\\r\\n    <br><button mat-raised-button color=\\\"primary\\\" (click)=\\\"filtersAppliedClicked()\\\">Apply</button>\\r\\n  \\r\\n  </mat-expansion-panel>\\r\\n\\r\\n  <div *ngIf=\\\"queryTranslated\\\" class=\\\"mat-typography\\\" style=\\\"margin-top: 10px; color: gray\\\">\\r\\n    <p>Translated from original query: {{originalQuery}}</p>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"mat-typography\\\" style=\\\"margin-top: 10px; color: gray\\\">\\r\\n    <p>Loaded {{ resultsReturned }} results in {{ resultsTook }} ms</p>\\r\\n  </div>\\r\\n\\r\\n  <div class=\\\"options-wrapper\\\" >\\r\\n\\r\\n    <mat-select placeholder=\\\"View Mode\\\" [(ngModel)]='viewMode' class=\\\"hide-under-600px options-child\\\">\\r\\n      <mat-option [value]=\\\"0\\\">Regular Mode</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">Compact Mode</mat-option>\\r\\n    </mat-select>\\r\\n\\r\\n    <mat-select placeholder=\\\"Sort by\\\" [(ngModel)]='sortMode' (ngModelChange)=\\\"updateSort()\\\" class=\\\"options-child\\\">\\r\\n      <mat-option [value]=\\\"0\\\">Sort by Relevance</mat-option>\\r\\n      <mat-option [value]=\\\"1\\\">Sort by Lowest Price</mat-option>\\r\\n    </mat-select>\\r\\n\\r\\n  </div>\\r\\n  \\r\\n  <div class=\\\"mat-typography\\\" *ngIf=\\\"resultsReturned < 1\\\">\\r\\n    <span>Did you mean</span>\\r\\n    <div *ngFor=\\\"let term of spellSuggestions\\\">\\r\\n        <span *ngFor=\\\"let suggestion of term.options\\\">\\r\\n          <button mat-button color=\\\"primary\\\" (click)=\\\"suggestionClicked(suggestion.text)\\\">{{ suggestion.text }} </button>\\r\\n        </span>\\r\\n      </div>\\r\\n  </div>\\r\\n  \\r\\n  <div class=\\\"row\\\">\\r\\n\\r\\n    <ul class=\\\"card\\\">\\r\\n      <li *ngFor=\\\"let product of searchResults\\\" [className]=\\\"viewMode == 1 ? 'comp-mode' : 'reg-mode'\\\">\\r\\n        <mat-card matRipple>\\r\\n          <img *ngIf=\\\"viewMode == 1\\\" mat-card-image [src]=\\\"product._source.img_url\\\">\\r\\n          <div [className]=\\\"viewMode == 1 ? 'header-compact' : 'header'\\\">\\r\\n              <div class=\\\"header-aside\\\">\\r\\n                  <!-- <span>{{product.supermarketImg}}</span> -->\\r\\n                  <div *ngIf=\\\"product._source\\\">\\r\\n                    <span><img [src]=\\\"product.supermarketImg\\\"></span>\\r\\n                   </div>\\r\\n                  <div *ngIf=\\\"product._source\\\">\\r\\n                   <span *ngIf=\\\"viewMode !== 1\\\"><img [src]=\\\"product._source.img_url\\\" width=\\\"70\\\" height=\\\"70\\\"></span>\\r\\n                  </div>\\r\\n              </div>\\r\\n            <div class=\\\"header-main\\\">\\r\\n                <a (click)=\\\"productClicked(product._source.url)\\\" target=\\\"_blank\\\" [innerHtml]=\\\"product._source.product_name | highlight:searchQuery\\\" style=\\\"cursor:pointer\\\"></a>\\r\\n                <br><span class=\\\"product-url\\\" [innerHtml]=\\\"product._source.url\\\"></span>\\r\\n                <p [innerHtml]=\\\"product._source.page_title | highlight:searchQuery\\\"></p>\\r\\n            </div>\\r\\n            <div class=\\\"header-aside text-align-right\\\">\\r\\n              <span *ngIf=\\\"product._source.weight_q\\\"> {{ product._source.weight_q }} {{ product._source.weight_ind }} </span>\\r\\n              <span *ngIf=\\\"product._source.size\\\"> {{ product._source.size }} </span>\\r\\n            </div>\\r\\n            <div class=\\\"header-aside text-align-right\\\">\\r\\n              <span class=\\\"product-price\\\">€ {{product._source.price}}</span>\\r\\n            </div>\\r\\n          </div>\\r\\n          <mat-card-content class=\\\"last-child\\\">\\r\\n            <p align=\\\"right\\\" *ngIf=\\\"evalMode && !product.evaluated\\\">Is this document relevant?</p>\\r\\n          </mat-card-content>\\r\\n          <mat-card-actions *ngIf=\\\"evalMode && !product.evaluated\\\">\\r\\n            <button mat-button class=\\\"feedback\\\" (click)=\\\"feedbackButtonClicked(product, false)\\\"\\r\\n                mat-raised-button color=\\\"warn\\\">No</button>\\r\\n            <button mat-button class=\\\"feedback\\\" (click)=\\\"feedbackButtonClicked(product, true)\\\"\\r\\n                mat-raised-button color=\\\"green\\\" style=\\\"background:green; color: white\\\">Yes</button>\\r\\n        </mat-card-actions>\\r\\n        </mat-card>\\r\\n      </li>\\r\\n    </ul>\\r\\n  </div>\\r\\n\\r\\n  <div *ngIf=\\\"resultsLoaded < resultsReturned\\\">\\r\\n    <button (click)=\\\"loadMoreClicked()\\\" style=\\\"width: 100%; margin-bottom: 5em\\\" mat-button>Load More Results</button>\\r\\n  </div>\\r\\n  \\r\\n</div>\"","module.exports = \".header-bar {\\n  background-color: white;\\n  box-shadow: 3px 3px 5px 6px #ccc;\\n  padding: 20px;\\n  margin-bottom: 20px;\\n  position: fixed;\\n  width: 100%;\\n  z-index: 999;\\n  top: 0; }\\n\\n.title {\\n  float: left;\\n  width: 8em; }\\n\\n.search-bar {\\n  width: calc(100% - 16em); }\\n\\n.search-button {\\n  width: 8em; }\\n\\ndiv.row {\\n  text-align: center; }\\n\\n.card {\\n  list-style-type: none;\\n  padding-left: 0;\\n  display: flex;\\n  flex-wrap: wrap; }\\n\\n.card li {\\n  margin-bottom: 10px; }\\n\\n.header {\\n  text-align: left;\\n  display: flex;\\n  justify-content: space-between; }\\n\\n.header-compact {\\n  text-align: left;\\n  display: flex;\\n  flex-wrap: wrap; }\\n\\n.header-compact .header-main {\\n    width: 100%;\\n    order: 3; }\\n\\n.header-compact .header-aside {\\n    width: 50%;\\n    height: 2em; }\\n\\n.header-main {\\n  width: 74%; }\\n\\n.header-aside {\\n  width: 12%; }\\n\\na {\\n  color: blue; }\\n\\na:hover {\\n  text-decoration: underline; }\\n\\n.product-price {\\n  font-weight: bold; }\\n\\n.mat-card .last-child {\\n  margin-bottom: 0;\\n  text-align: left; }\\n\\n.options-wrapper {\\n  display: flex;\\n  justify-content: flex-end; }\\n\\n.options-wrapper .options-child {\\n    width: 10em; }\\n\\n.comp-mode {\\n  min-width: 150px;\\n  max-width: 250px; }\\n\\n.reg-mode {\\n  width: 100%; }\\n\\n.product-url {\\n  color: darkgreen;\\n  font-size: 85%; }\\n\\n.img-comp {\\n  padding-bottom: 70px; }\\n\\n.feedback {\\n  float: right; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2VhcmNoLXJlc3VsdHMvRDpcXERvY3VtZW50c1xcRGV2ZWxvcG1lbnRcXGlyX3Byb2plY3RcXGdyb2Nlcnlib3RcXGZyb250LWVuZC9zcmNcXGFwcFxcc2VhcmNoLXJlc3VsdHNcXHNlYXJjaC1yZXN1bHRzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksd0JBQXVCO0VBQ3ZCLGlDQUFnQztFQUNoQyxjQUFhO0VBQ2Isb0JBQW1CO0VBQ25CLGdCQUFlO0VBQ2YsWUFBVztFQUNYLGFBQVk7RUFDWixPQUFNLEVBQ1Q7O0FBRUQ7RUFDSSxZQUFXO0VBQ1gsV0FBVSxFQUNiOztBQUVEO0VBQ0kseUJBQXdCLEVBQzNCOztBQUVEO0VBQ0ksV0FBVSxFQUNiOztBQUVEO0VBQ0UsbUJBQWtCLEVBQ25COztBQUVEO0VBQ0Usc0JBQXFCO0VBQ3JCLGdCQUFlO0VBQ2YsY0FBYTtFQUNiLGdCQUFlLEVBQ2hCOztBQUVEO0VBQ0Usb0JBQW1CLEVBQ3BCOztBQUVEO0VBQ0UsaUJBQWdCO0VBQ2hCLGNBQWE7RUFDYiwrQkFBOEIsRUFDL0I7O0FBRUQ7RUFDRSxpQkFBZ0I7RUFDaEIsY0FBYTtFQUNiLGdCQUFlLEVBU2hCOztBQVpEO0lBS0ksWUFBVztJQUNYLFNBQVEsRUFDVDs7QUFQSDtJQVNJLFdBQVU7SUFDVixZQUFXLEVBQ1o7O0FBR0g7RUFDRSxXQUFVLEVBQ1g7O0FBRUQ7RUFDRSxXQUFVLEVBQ1g7O0FBRUQ7RUFDRSxZQUFXLEVBQ1o7O0FBRUQ7RUFDRSwyQkFBMEIsRUFDM0I7O0FBRUQ7RUFDRSxrQkFBaUIsRUFDbEI7O0FBRUQ7RUFDRSxpQkFBZ0I7RUFDaEIsaUJBQWdCLEVBQ2pCOztBQUVEO0VBQ0UsY0FBYTtFQUNiLDBCQUF5QixFQUkxQjs7QUFORDtJQUlJLFlBQVcsRUFDWjs7QUFHSDtFQUNJLGlCQUFnQjtFQUNoQixpQkFBZ0IsRUFDbkI7O0FBRUQ7RUFDSSxZQUFXLEVBQ2Q7O0FBRUQ7RUFDRSxpQkFBZ0I7RUFDaEIsZUFBYyxFQUNmOztBQUVEO0VBQ0UscUJBQW9CLEVBQ3JCOztBQUVEO0VBQ0UsYUFDRixFQUFDIiwiZmlsZSI6InNyYy9hcHAvc2VhcmNoLXJlc3VsdHMvc2VhcmNoLXJlc3VsdHMuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuaGVhZGVyLWJhciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGJveC1zaGFkb3c6IDNweCAzcHggNXB4IDZweCAjY2NjO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIHotaW5kZXg6IDk5OTtcclxuICAgIHRvcDogMDtcclxufVxyXG5cclxuLnRpdGxlIHtcclxuICAgIGZsb2F0OiBsZWZ0O1xyXG4gICAgd2lkdGg6IDhlbTtcclxufVxyXG5cclxuLnNlYXJjaC1iYXIge1xyXG4gICAgd2lkdGg6IGNhbGMoMTAwJSAtIDE2ZW0pO1xyXG59XHJcblxyXG4uc2VhcmNoLWJ1dHRvbiB7XHJcbiAgICB3aWR0aDogOGVtO1xyXG59XHJcblxyXG5kaXYucm93IHtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jYXJkIHtcclxuICBsaXN0LXN0eWxlLXR5cGU6IG5vbmU7XHJcbiAgcGFkZGluZy1sZWZ0OiAwO1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG59XHJcblxyXG4uY2FyZCBsaSB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLmhlYWRlciB7XHJcbiAgdGV4dC1hbGlnbjogbGVmdDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG5cclxuLmhlYWRlci1jb21wYWN0IHtcclxuICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG4gIC5oZWFkZXItbWFpbiB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIG9yZGVyOiAzO1xyXG4gIH1cclxuICAuaGVhZGVyLWFzaWRlIHtcclxuICAgIHdpZHRoOiA1MCU7XHJcbiAgICBoZWlnaHQ6IDJlbTtcclxuICB9XHJcbn1cclxuXHJcbi5oZWFkZXItbWFpbiB7XHJcbiAgd2lkdGg6IDc0JTtcclxufVxyXG5cclxuLmhlYWRlci1hc2lkZSB7XHJcbiAgd2lkdGg6IDEyJTtcclxufVxyXG5cclxuYSB7XHJcbiAgY29sb3I6IGJsdWU7XHJcbn1cclxuXHJcbmE6aG92ZXIge1xyXG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xyXG59XHJcblxyXG4ucHJvZHVjdC1wcmljZSB7XHJcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5tYXQtY2FyZCAubGFzdC1jaGlsZCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMDtcclxuICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG59XHJcblxyXG4ub3B0aW9ucy13cmFwcGVyIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XHJcbiAgLm9wdGlvbnMtY2hpbGQge1xyXG4gICAgd2lkdGg6IDEwZW07XHJcbiAgfVxyXG59XHJcblxyXG4uY29tcC1tb2RlIHtcclxuICAgIG1pbi13aWR0aDogMTUwcHg7XHJcbiAgICBtYXgtd2lkdGg6IDI1MHB4O1xyXG59XHJcblxyXG4ucmVnLW1vZGUge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbi5wcm9kdWN0LXVybCB7XHJcbiAgY29sb3I6IGRhcmtncmVlbjtcclxuICBmb250LXNpemU6IDg1JTtcclxufVxyXG5cclxuLmltZy1jb21wIHtcclxuICBwYWRkaW5nLWJvdHRvbTogNzBweDtcclxufVxyXG5cclxuLmZlZWRiYWNrIHtcclxuICBmbG9hdDpyaWdodFxyXG59Il19 */\"","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { SearchService } from '../search/shared/search.service';\r\nimport { Product } from '../models/product';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { APP_CONFIG } from 'src/app/app.config';\r\nimport { SortMode } from 'src/app/enums/sort-mode';\r\nimport { EvaluationService } from '../shared/services/evaluation.service';\r\nimport { Evaluation } from '../models/evaluation';\r\nimport { SafeUrl } from '@angular/platform-browser';\r\n\r\nenum ViewMode {\r\n  Regular,\r\n  Compact\r\n}\r\n\r\n@Component({\r\n  selector: 'app-search-results',\r\n  templateUrl: './search-results.component.html',\r\n  styleUrls: ['./search-results.component.scss']\r\n})\r\nexport class SearchResultsComponent implements OnInit {\r\n\r\n  defaultResultsLoaded = this._config.defaultResultsLoaded;\r\n\r\n  searchQuery: string;\r\n\r\n  evalMode: boolean;\r\n  evaluationFile: SafeUrl;\r\n  assessorName: string;\r\n  totalEvaluated: number;\r\n  lastRank = 0; // rank assigned to last loaded document, used to rank next documents.\r\n  metricsDisplay = '';\r\n\r\n  queryTranslated: boolean;\r\n  originalQuery: string;\r\n  searchResults: Product[] = [];\r\n  spellSuggestions: any;\r\n  resultsReturned: number;\r\n  resultsLoaded = 0;\r\n  resultsTook: number;\r\n\r\n  sliderMinValue = 0;\r\n  sliderMaxValue = 0;\r\n\r\n  sliderMin = 0;\r\n  sliderMax = 0;\r\n\r\n  sortMode: SortMode = SortMode.Relevance;\r\n  viewMode: ViewMode = ViewMode.Regular;\r\n\r\n  constructor(\r\n    private _searchService: SearchService,\r\n    private _evalService: EvaluationService,\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    @Inject(APP_CONFIG) private _config\r\n  ) {\r\n    this.evalMode = false;\r\n    this.assessorName = '';\r\n    this.totalEvaluated = 0;\r\n    this.evaluationFile = '';\r\n  }\r\n\r\n  ngOnInit() {\r\n    this._route.paramMap.subscribe(params => {\r\n      this.searchQuery = params.get('query');\r\n\r\n      this.evalMode = params.get('eval') === 'true';\r\n      this.assessorName = params.get('name');\r\n    });\r\n\r\n    this.searchByQuery(this.searchQuery);\r\n    this.spellSuggestionsByQuery(this.searchQuery);\r\n    if  (this._searchService.translated) {\r\n      this.queryTranslated = true;\r\n      this.originalQuery = this._searchService.originalQuery;\r\n    }\r\n\r\n    // Eval mode\r\n    if (this.evalMode) {\r\n      this._evalService.initialize(this.assessorName, this.searchQuery);\r\n    }\r\n  }\r\n\r\n  searchClicked() {\r\n    this._router.navigate(['search-results', this.searchQuery, this.evalMode, this.assessorName]);\r\n    this.searchByQuery(this.searchQuery);\r\n    this.spellSuggestionsByQuery(this.searchQuery);\r\n\r\n    if (this.evalMode) {\r\n      this.totalEvaluated = 0;\r\n      this._evalService.initialize(this.assessorName, this.searchQuery);\r\n      this.updateMetricsDisplay();\r\n    }\r\n  }\r\n\r\n  loadMoreClicked() {\r\n    this.loadMoreResults(this.searchQuery);\r\n  }\r\n\r\n  updateSort() {\r\n    this.searchByQuery(this.searchQuery);\r\n  }\r\n\r\n  suggestionClicked(searchQuery: string) {\r\n    this.searchQuery = searchQuery;\r\n    this.searchClicked();\r\n  }\r\n\r\n  productClicked(url) {\r\n    // modify the url if it's from albert heijn\r\n    if (url.includes('ah.nl')) {\r\n      const productUrl = url.split('url=')[1];\r\n      url = 'http://ah.nl' + productUrl;\r\n    }\r\n\r\n    window.open(url);\r\n  }\r\n\r\n  filtersAppliedClicked() {\r\n    this.applyFiltersAndSearch();\r\n  }\r\n\r\n  searchByQuery(query: string) {\r\n    this._searchService.searchByQuery(query, this.sortMode)\r\n      .subscribe(\r\n        data => {\r\n          // console.log(data);\r\n          this.searchResults = data.hits.hits;\r\n          // Parse results\r\n          this.parseSearchResults();\r\n          this.resultsReturned = data.hits.total;\r\n          this.resultsLoaded = this._config.defaultResultsLoaded;\r\n          this.resultsTook = data.took;\r\n          const minVal = data.aggregations.min_weight.value;\r\n          const maxVal = data.aggregations.max_weight.value;\r\n          this.sliderMin = Math.round(minVal / 100) * 100;\r\n          this.sliderMax = (Math.round(maxVal / 100) * 100) + 100;\r\n          this.sliderMinValue = this.sliderMin;\r\n          this.sliderMaxValue = this.sliderMax;\r\n        },\r\n        error => console.error(error)\r\n      );\r\n  }\r\n\r\n  parseSearchResults(): any {\r\n    this.lastRank = 0; // because it parses all the results always - fix if we have time\r\n    this.searchResults.forEach(product => {\r\n      product.rank = ++this.lastRank;\r\n      product.supermarketImg = 'assets/img/' + product._source.supermarket.split(' ')[0] + '.png';\r\n\r\n      // Domain-specific manipulations\r\n      if (product._source.supermarket === 'vomar') {\r\n        product._source.img_url = 'http://' + product._source.img_url;\r\n      }\r\n    });\r\n  }\r\n\r\n  applyFiltersAndSearch() {\r\n    this._searchService.searchByQueryWithWeightFilter(this.searchQuery, this.sliderMinValue, this.sliderMaxValue).subscribe(\r\n      data => {\r\n        this.searchResults = data.hits.hits;\r\n        this.resultsReturned = data.hits.total;\r\n        this.resultsLoaded = this._config.defaultResultsLoaded;\r\n        this.resultsTook = data.took;\r\n        this.parseSearchResults();\r\n      },\r\n      error => console.error(error)\r\n    );\r\n  }\r\n\r\n  spellSuggestionsByQuery(query: string) {\r\n    this._searchService.spellingSuggestionsByQuery(query)\r\n      .subscribe(\r\n        data => {\r\n          // console.log(data);\r\n          this.spellSuggestions = data.suggest.suggest;\r\n        },\r\n        error => console.error(error)\r\n      );\r\n  }\r\n\r\n  loadMoreResults(query: string) {\r\n    this._searchService.searchByQuery(query, this.sortMode, this.resultsLoaded)\r\n      .subscribe(\r\n        data => {\r\n          // console.log(data);\r\n          this.searchResults = this.searchResults.concat(data.hits.hits);\r\n          this.parseSearchResults();\r\n          this.resultsLoaded += this._config.defaultResultsLoaded;\r\n          // console.log(this.searchResults);\r\n        },\r\n        error => console.error(error)\r\n      );\r\n  }\r\n\r\n  feedbackButtonClicked(product: Product, isRelevant) {\r\n\r\n    this._evalService.addEvaluation(new Evaluation(product.rank, isRelevant));\r\n    this.updateMetricsDisplay();\r\n\r\n    product.evaluated = true;\r\n    this.totalEvaluated++;\r\n\r\n    if (this.totalEvaluated === 20) {\r\n      this.evaluationFile = this._evalService.finishEvaluation();\r\n    }\r\n  }\r\n\r\n  updateMetricsDisplay() {\r\n    this.metricsDisplay = '';\r\n    this._evalService.metrics.forEach(metric => {\r\n      this.metricsDisplay += metric.name + ': ' + metric.value.toFixed(3) + ', ';\r\n    });\r\n  }\r\n\r\n}\r\n","module.exports = \"<div class=\\\"row mat-typography center-in-page\\\">\\r\\n  <h1 class=\\\"title\\\">\\r\\n    Welcome to Grocerybot!\\r\\n  </h1>\\r\\n  <form class=\\\"search-wrapper\\\">\\r\\n    <mat-form-field class=\\\"search-box\\\">\\r\\n      <input name=\\\"searchQuery\\\" matInput [(ngModel)]='searchQuery' placeholder=\\\"Enter your search query here\\\">\\r\\n    </mat-form-field>\\r\\n\\r\\n    <div class=\\\"options-wrapper\\\">\\r\\n      <button mat-raised-button color=\\\"primary\\\" (click)=\\\"searchClicked()\\\">Grocerybot Search\\r\\n      </button>\\r\\n      <div>\\r\\n        <mat-slide-toggle name=\\\"translate\\\" [(ngModel)]=\\\"translateChecked\\\">\\r\\n          Translate Query\\r\\n        </mat-slide-toggle>\\r\\n      </div>\\r\\n      <div>\\r\\n        <mat-slide-toggle name=\\\"evaluate\\\" [(ngModel)]=\\\"evaluationChecked\\\">\\r\\n          Evaluation Mode\\r\\n        </mat-slide-toggle>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"evaluation-form\\\" *ngIf=\\\"evaluationChecked\\\">\\r\\n      <mat-form-field class=\\\"search-box\\\">\\r\\n          <input name=\\\"assessorName\\\" matInput [(ngModel)]='assessorName' placeholder=\\\"Please enter your name\\\">\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\"","module.exports = \".mat-form-field {\\n  width: 75%; }\\n\\ndiv.row {\\n  text-align: center; }\\n\\n.search-box {\\n  width: 30%; }\\n\\n.center-in-page {\\n  height: 50em;\\n  display: flex;\\n  flex-direction: column;\\n  align-content: center;\\n  justify-content: center; }\\n\\n.options-wrapper button {\\n  margin-right: 2em;\\n  margin-bottom: 2em; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2VhcmNoL0Q6XFxEb2N1bWVudHNcXERldmVsb3BtZW50XFxpcl9wcm9qZWN0XFxncm9jZXJ5Ym90XFxmcm9udC1lbmQvc3JjXFxhcHBcXHNlYXJjaFxcc2VhcmNoLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksV0FDSixFQUFDOztBQUVEO0VBQ0ksbUJBQ0osRUFBQzs7QUFFRDtFQUNJLFdBQVUsRUFDYjs7QUFFRDtFQUNJLGFBQVk7RUFDWixjQUFhO0VBQ2IsdUJBQXNCO0VBQ3RCLHNCQUFxQjtFQUNyQix3QkFBdUIsRUFDMUI7O0FBRUQ7RUFFUSxrQkFBaUI7RUFDakIsbUJBQWtCLEVBQ3JCIiwiZmlsZSI6InNyYy9hcHAvc2VhcmNoL3NlYXJjaC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tYXQtZm9ybS1maWVsZCB7XHJcbiAgICB3aWR0aDogNzUlXHJcbn1cclxuXHJcbmRpdi5yb3cge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyXHJcbn1cclxuXHJcbi5zZWFyY2gtYm94IHtcclxuICAgIHdpZHRoOiAzMCU7XHJcbn1cclxuXHJcbi5jZW50ZXItaW4tcGFnZSB7XHJcbiAgICBoZWlnaHQ6IDUwZW07XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4ub3B0aW9ucy13cmFwcGVyIHtcclxuICAgIGJ1dHRvbiB7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAyZW07XHJcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogMmVtO1xyXG4gICAgfVxyXG59Il19 */\"","import { SearchService } from './shared/search.service';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { GoogleObj, TranslateService } from '../shared/services/translate.service';\r\n\r\n@Component({\r\n  selector: 'app-search',\r\n  templateUrl: './search.component.html',\r\n  styleUrls: ['./search.component.scss']\r\n})\r\nexport class SearchComponent implements OnInit {\r\n  searchQuery: string;\r\n  assessorName: string;\r\n  translateChecked: boolean;\r\n  evaluationChecked: boolean;\r\n\r\n  constructor(\r\n    private _searchService: SearchService,\r\n    private _translateService: TranslateService,\r\n    private _router: Router) {\r\n\r\n    this.searchQuery = '';\r\n    this.translateChecked = false;\r\n    this.evaluationChecked = false;\r\n  }\r\n\r\n  ngOnInit() {\r\n    this._searchService.translated = false;\r\n    this.assessorName = ' ';\r\n  }\r\n\r\n  searchClicked() {\r\n    if (this.translateChecked) {\r\n      const googleObject = new GoogleObj();\r\n      googleObject.q = this.searchQuery;\r\n      // tslint:disable-next-line:max-line-length\r\n      const bearer_token = 'ya29.c.ElrUBnL0kds8P_BGi9gp8C25OaK5e3-y_EUHAqAp7gMFR__2OrqRy0REWIvui9JcDz1YeAqeGPfrAEZ6npYHdYKjdNh2p49WweZf-mwx9UOBYF5xIpwzrIq3nP0';\r\n      this._translateService\r\n        .translate(googleObject, bearer_token)\r\n        .subscribe(\r\n          data => {\r\n            const transData = data.data;\r\n            if (transData.translations) {\r\n              if (transData.translations.length > 0) {\r\n                this._searchService.originalQuery = this.searchQuery;\r\n                this._searchService.translated = true;\r\n\r\n                this.searchQuery = transData.translations[0].translatedText;\r\n              }\r\n            }\r\n          },\r\n          (error: any) => console.log(error),\r\n          () => this.navigateToSearchResults()\r\n        );\r\n    } else {\r\n      this.navigateToSearchResults();\r\n    }\r\n  }\r\n\r\n  navigateToSearchResults() {\r\n    this._searchService.setSearchQuery(this.searchQuery);\r\n    this._router.navigate(['/search-results', this.searchQuery, this.evaluationChecked, this.assessorName]);\r\n  }\r\n}\r\n\r\n\r\n","import { Injectable, Inject } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { Product } from 'src/app/models/product';\r\nimport { HttpParams, HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { APP_CONFIG } from 'src/app/app.config';\r\nimport { map } from 'rxjs/operators';\r\nimport { SortMode } from 'src/app/enums/sort-mode';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SearchService {\r\n  baseUrl = this._config.baseUrl + '/_search';\r\n  searchQuery: string;\r\n  translated = false; // if query translation was enabled.\r\n  originalQuery: string; // for the cases of query translation.\r\n\r\n  constructor(\r\n    private _http: HttpClient,\r\n    @Inject(APP_CONFIG) private _config) {}\r\n\r\n  searchByQuery(\r\n    searchQuery: string,\r\n    sortMode: SortMode,\r\n    from: number = 0,\r\n    size: number = this._config.defaultResultsLoaded\r\n  ): Observable<any> {\r\n    const body = {\r\n      query: {\r\n        bool: {\r\n          must: {\r\n            multi_match: {\r\n              query: searchQuery,\r\n              fields: ['product_name^10', 'category^3', 'page_title^2', 'description']\r\n            }\r\n          }\r\n        }\r\n      },\r\n      from: from,\r\n      size: size,\r\n      aggs: {\r\n        max_weight: { max: { field: 'weight_q' } },\r\n        min_weight: { min: { field: 'weight_q' } }\r\n      }\r\n    };\r\n\r\n    const bodyPriceSort = {\r\n      query: {\r\n        bool: {\r\n          must: {\r\n            multi_match: {\r\n              query: searchQuery,\r\n              fields: ['product_name^10', 'category^3', 'page_title^2', 'description']\r\n            }\r\n          }\r\n        }\r\n      },\r\n      from: from,\r\n      size: size,\r\n      sort: [{ price: 'asc' }],\r\n      aggs: {\r\n        max_weight: { max: { field: 'weight_q' } },\r\n        min_weight: { min: { field: 'weight_q' } }\r\n      }\r\n    };\r\n\r\n    const headers = new HttpHeaders().set('Content-Type', 'application/json');\r\n\r\n    return this._http\r\n      .post(this.baseUrl, sortMode === SortMode.Price ? bodyPriceSort : body, {\r\n        headers: headers,\r\n      })\r\n      .pipe(map((response: any) => response));\r\n  }\r\n\r\n  searchByQueryWithWeightFilter(\r\n    query: string,\r\n    weightMin: number,\r\n    weightMax: number,\r\n  ) {\r\n    const body = {\r\n      query: {\r\n        bool: {\r\n          must: {\r\n            multi_match: {\r\n              query: query,\r\n              fields: ['product_name^10', 'category^3', 'page_title^2', 'description']\r\n            }\r\n          },\r\n          filter: {\r\n            range: {\r\n              weight_q: {\r\n                gte: weightMin,\r\n                lte: weightMax\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    return this._http\r\n      .post(this.baseUrl, body, {\r\n        headers: new HttpHeaders().set('Content-Type', 'application/json')\r\n      })\r\n      .pipe(map((response: any) => response));\r\n  }\r\n\r\n  spellingSuggestionsByQuery(searchQuery: string): Observable<any> {\r\n    const body = {\r\n      suggest: {\r\n        suggest: {\r\n          text: searchQuery,\r\n          term: {\r\n            field: 'product_name'\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    return this._http\r\n      .post(this.baseUrl, body, {\r\n        headers: new HttpHeaders().set('Content-Type', 'application/json')\r\n      })\r\n      .pipe(map((response: any) => response));\r\n  }\r\n\r\n  public setSearchQuery(searchQuery: string) {\r\n    this.searchQuery = searchQuery;\r\n  }\r\n\r\n  public getSearchQuery() {\r\n    return this.searchQuery;\r\n  }\r\n}\r\n","import { Evaluation } from './../../models/evaluation';\r\nimport { Injectable } from '@angular/core';\r\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\r\nimport { Metric } from 'src/app/models/metric';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class EvaluationService {\r\n\r\n  assessor: string;\r\n  query: string;\r\n  date: Date;\r\n  evaluations: Evaluation[];\r\n  metrics: Metric[];\r\n\r\n  constructor(private _sanitizer: DomSanitizer) {}\r\n\r\n  initialize(assessor: string, query: string) {\r\n    this.assessor = assessor;\r\n    this.date = new Date();\r\n    this.evaluations = [];\r\n    this.metrics = [];\r\n    this.query = query;\r\n  }\r\n\r\n  addEvaluation(evaluation: Evaluation) {\r\n    this.evaluations.push(evaluation);\r\n\r\n    this.calculateMetrics();\r\n  }\r\n\r\n  calculateMetrics() {\r\n    this.metrics = [];\r\n    this.metrics.push(this.calcPrecisionAt(5));\r\n    this.metrics.push(this.calcPrecisionAt(10));\r\n    this.metrics.push(this.calcPrecisionAt(20));\r\n    const recRank = this.calcReciprocalRank();\r\n    if (recRank) {\r\n      this.metrics.push(recRank);\r\n    }\r\n\r\n    this.metrics.push(this.calcAveragePrecision());\r\n  }\r\n\r\n  calcPrecisionAt(rank: number): Metric {\r\n    let relevantCount = 0;\r\n\r\n    this.evaluations\r\n      .filter(e => e.rank <= rank)\r\n      .forEach(ev => {\r\n        if (ev.relevant) {\r\n          relevantCount ++;\r\n        }\r\n    });\r\n\r\n    const p = relevantCount / rank;\r\n    return new Metric('p@' + rank, p);\r\n  }\r\n\r\n  calcReciprocalRank(): Metric {\r\n    const firstRelevant = this.evaluations.filter(ev => ev.relevant)[0];\r\n    if (firstRelevant) {\r\n      return new Metric('reciprocalRanking', 1 / firstRelevant.rank);\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  calcAveragePrecision(): Metric {\r\n    let sum = 0;\r\n    const relevantDocs = this.evaluations.filter(ev => ev.relevant);\r\n    relevantDocs.forEach(doc => {\r\n      const p = this.calcPrecisionAt(doc.rank);\r\n      sum += p.value;\r\n    });\r\n\r\n    const ap = sum / relevantDocs.length;\r\n\r\n    return new Metric('averagePrecision', ap);\r\n  }\r\n\r\n  finishEvaluation(): SafeUrl {\r\n    const evalSession = {\r\n      assessor: this.assessor,\r\n      date: this.date,\r\n      query: this.query,\r\n      metrics: this.metrics,\r\n      evaluations: this.evaluations};\r\n\r\n      const json_data = JSON.stringify(evalSession);\r\n      const uri = this._sanitizer.bypassSecurityTrustUrl('data:text/json;charset=UTF-8,' + encodeURIComponent(json_data));\r\n\r\n      return uri;\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TranslateService {\r\n  constructor(private _http: HttpClient) {}\r\n\r\n  translate(obj: GoogleObj, token: string) {\r\n    const headers = new HttpHeaders().set('Authorization', 'Bearer ' + token);\r\n\r\n    const body = {\r\n      'source': obj.source,\r\n      'target': obj.target,\r\n      'format': obj.format,\r\n      'q': obj.q\r\n    };\r\n\r\n    return this._http.post(url, body, {\r\n      headers: headers\r\n    })\r\n    .pipe(map((res: any) => res));\r\n  }\r\n}\r\n\r\nconst url = 'https://translation.googleapis.com/language/translate/v2';\r\n\r\nexport class GoogleObj {\r\n  q: string;\r\n  readonly source: string = 'en';\r\n  readonly target: string = 'nl';\r\n  readonly format: string = 'text';\r\n\r\n  constructor() {}\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\nimport 'hammerjs';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n"],"sourceRoot":""}